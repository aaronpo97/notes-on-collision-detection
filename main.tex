\documentclass{report}

% Geometry and layout
\usepackage[margin=3.3cm]{geometry}
\usepackage[skip=10pt plus1pt, indent=0em]{parskip}
\usepackage{multicol}
\usepackage{titlesec}
\usepackage{csquotes}
\usepackage{float}
\usepackage{palatino}

\usepackage{fancyhdr}

% Links and references
\usepackage{hyperref}

% Math and symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

% Graphics
\usepackage{graphicx}
\usepackage{svg}
\usepackage{tikz}

% Code listings
\usepackage{listings}
\usepackage{color}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

% Frames and boxes
\usepackage{mdframed}

% Theorems and remarks
\newtheorem*{remark}{Remark}

% Text
\makeatletter
\renewcommand\maketitle{
    \begin{center}
        \vspace*{12em}
        {\textbf{\LARGE{\@title}}} \\
        \vspace{1em}
        {\textbf{\Large{\@author}}} \\
        \vspace{1em}
        {\textbf{\large{\@date}}} \\
        \vspace{2em}
    \end{center}
}

% Custom commands
% \renewcommand{\land}{\,\,\textrm{\textbf{AND}}\,\,}
\newcommand{\subsubsubsection}[1]{\paragraph{#1}\mbox{}\\}
\newcommand{\drawaxesgrid}[2]{
    % Draw x and y axes with arrows
    \draw[thick,->] (0,0) -- (#1,0) node[anchor=west] {\scriptsize x};
    \draw[thick,->] (0,0) -- (0,#2) node[anchor=north] {\scriptsize y};

    % Calculate the number of ticks based on sizes
    \pgfmathtruncatemacro{\xtickstop}{#1-1}
    \pgfmathtruncatemacro{\ytickstop}{#2-1}

    % a point at the origin (0, 0) 
    \filldraw [black] (0, 0) circle (5pt) {};

    % Draw x-axis tick marks and labels
    \foreach \x in {1,...,\xtickstop}
    \draw (\x,0.1) -- (\x,-0.1) node[anchor=south] {\scriptsize \x};

    % Draw y-axis tick marks and labels
    \foreach \y in {1,...,\ytickstop}
    \draw (0.1,\y) -- (-0.1,\y) node[anchor=east] {\scriptsize \y};

    % Draw light gray grid lines
    \foreach \x in {1,...,\xtickstop}
    \draw[lightgray,dashed] (\x,0) -- (\x,#2);
    \foreach \y in {1,...,\ytickstop}
    \draw[lightgray,dashed] (0,\y) -- (#1,\y);
}

\author{Aaron Po}
\title{Collision Detection and Collision Resolution}
\date{\today}
\begin{document}
\maketitle

\tableofcontents
\include{01-CollisionDetection/index.tex}
\include{02-Entity-Bounding-Shapes/index.tex}

\section*{Appendix}

The following code snippets are implementations of the \texttt{Vec2} class in
C++. The \texttt{Vec2} class is a simple two-dimensional vector class that
provides basic vector operations such as addition, subtraction, multiplication,
and division. The class is used in this document for various collision
detection and resolution algorithms.

\subsection*{Vec2.h}
\vspace{1em}
\begin{mdframed}[linecolor=black!30!white,linewidth=.5pt,extratopheight=1em]
    \begin{lstlisting}[language=C++, aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{dkgreen},
    stringstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3,
    xleftmargin=1em]
#ifndef VEC2_H
#define VEC2_H

class Vec2 {
public:
};
    double x, y;

    Vec2(float x = 0, float y = 0);

    bool operator==(const Vec2 &rhs) const;
    bool operator!=(const Vec2 &rhs) const;

    Vec2 operator-(const Vec2 &rhs) const;
    Vec2 operator+(const Vec2 &rhs) const;
    Vec2 operator*(const float val) const;
    Vec2 operator/(const float val) const;

    void operator+=(const Vec2 &rhs);
    void operator-=(const Vec2 &rhs);
    void operator*=(const float val);
    void operator/=(const float val);

    Vec2  normalize();
    float length() const;
};

#endif // VEC2_H
\end{lstlisting}
\end{mdframed}

\subsection*{Vec2.cpp}
\vspace{1em}
\begin{mdframed}[linecolor=black!30!white,linewidth=.5pt,extratopheight=1em]
    \begin{lstlisting}[language=C++, aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{dkgreen},
    stringstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3,
    xleftmargin=1em]

#include "Vec2.h"
#include <cmath>

Vec2::Vec2(float x, float y) : x(x), y(y) {}

bool Vec2::operator==(const Vec2 &rhs) const { return rhs.x == x && rhs.y == y;
    }

bool Vec2::operator!=(const Vec2 &rhs) const { return !(*this == rhs); }

Vec2 Vec2::operator-(const Vec2 &rhs) const { return Vec2(x - rhs.x, y -
        rhs.y); }

Vec2 Vec2::operator+(const Vec2 &rhs) const { return Vec2(x + rhs.x, y +
        rhs.y); }

Vec2 Vec2::operator*(const float val) const { return Vec2(x * val, y * val); }

Vec2 Vec2::operator/(const float val) const { return Vec2(x / val, y / val); }

void Vec2::operator+=(const Vec2 &rhs) { x += rhs.x; y += rhs.y; }

void Vec2::operator-=(const Vec2 &rhs) { x -= rhs.x; y -= rhs.y; }

void Vec2::operator*=(const float val) { x *= val; y *= val; }

void Vec2::operator/=(const float val) { x /= val; y /= val; }

float Vec2::length() const { return std::sqrt(x * x + y * y); }

Vec2 Vec2::normalize() {
        float len = length();
        if (len > 0) { // Avoid division by zero
                x /= len;
                y /= len;
            }

        return *this; }

\end{lstlisting}
\end{mdframed}
\end{document}
